# Example api requests

## Media resource 

## Get all media items

GET http://localhost:3000/api/media

### Get media item by id

GET http://localhost:3000/api/media/9632?format=plain

### Not found media item by id

GET http://localhost:3000/api/media/9632

### Get media item by id

GET http://localhost:3000/api/media/4

### Create media item

POST http://localhost:3000/api/media
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1LCJpYXQiOjE3MzIxMDIzNzksImV4cCI6MTczMjE4ODc3OX0.p9IBYQyCfEHG8y5StJHVhqMhB6dSiqJws5GBSMWpR6M
Content-Type: multipart/form-data; boundary=----Boundary

------Boundary
Content-Disposition: form-data; name="title"

My cute cat Popoliini
------Boundary
Content-Disposition: form-data; name="description"

My cat is very cute
------Boundary
Content-Disposition: form-data; name="user_id"

5
------Boundary
Content-Disposition: form-data; name="file"; filename="image.png"
Content-Type: image/png

< ./test-cat.png
------Boundary--

### update a media item

PUT http://localhost:3000/api/media/4
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1LCJpYXQiOjE3MzIxODExNDQsImV4cCI6MTczMjI2NzU0NH0.q-J570gBexGuglkr6v0YkcpWneLYijDn95V6STx2vtg
Content-Type: application/json

{
    "title": "My cat",
    "description": "my very cute cat"
}

### Delete a media item

DELETE http://localhost:3000/api/media/1

## User authentication

### Register a new user

POST http://localhost:3000/api/auth/register
Content-Type: application/json

{
    "username": "popoliini",
    "password": "Mr.Popo_kissa",
    "email": "miumiumiu@metropolia.fi"
}

### Log in

POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
    "username": "elluu",
    "password": "********"
}

### Get my user info

GET http://localhost:3000/api/auth/me
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMiwiaWF0IjoxNzMyMTgwNTg0LCJleHAiOjE3MzIyNjY5ODR9.ik8figS7opE8k7G5cW_uFgeMvgkR6xUZwdYVglp30Ek

## User resource

### Get all users

GET http://localhost:3000/api/users

### Get user by id

GET http://localhost:3000/api/users/5

### Create a new user

POST http://localhost:3000/api/users
Content-Type: application/json

{
    "user_id": "",
    "username": "Popo_kisu",
    "password": "********",
    "email": "Popo10@example.com",
    "user_level_id": 2,
    "created_at": "2021-12-11T06:00:41.000Z"
}

### Update a user

PUT http://localhost:3000/api/users/12
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMiwiaWF0IjoxNzMyMTgwNTg0LCJleHAiOjE3MzIyNjY5ODR9.ik8figS7opE8k7G5cW_uFgeMvgkR6xUZwdYVglp30Ek
Content-Type: application/json

{
    "username": "maumaumaumau",
    "password": "********",
    "email": "miau@metropolia.fi"
}

### Delete a user

DELETE http://localhost:3000/api/users/12
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMiwiaWF0IjoxNzMyMTgwNTg0LCJleHAiOjE3MzIyNjY5ODR9.ik8figS7opE8k7G5cW_uFgeMvgkR6xUZwdYVglp30Ek

## Comment resource

### Get all comments

GET http://localhost:3000/api/comments


### Get comment by id

GET http://localhost:3000/api/comments/4

### Get a comment by user id

GET http://localhost:3000/api/comments/users/1

### Create a new comment

POST http://localhost:3000/api/comments
Authorization: Bearer
Content-Type: application/json

{
    "comment_id": "",
    "user_id": 3,
    "media_id": 1,
    "comment_text": "Lovely!",
    "created_at": "2021-12-11T06:00:41.000Z"
}

### Update a comment

PUT http://localhost:3000/api/comments/6
Content-Type: application/json

{   
    "comment_id": "",
    "comment_text": "I like this photo!",
    "created_at": "2021-12-11T06:00:41.000Z"
}

### Delete a comment

DELETE http://localhost:3000/api/comments/3 
