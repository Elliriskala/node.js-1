# Example api requests

## Media resource 

## Get all media items

GET http://localhost:3000/api/media

### Get media item by id

GET http://localhost:3000/api/media/9632?format=plain

### Not found media item by id

GET http://localhost:3000/api/media/9632

### Get media item by id

GET http://localhost:3000/api/media/4

### Create media item

POST http://localhost:3000/api/media
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJ1c2VybmFtZSI6IkVsbGkiLCJwYXNzd29yZCI6InNlY3JldDM0NSIsImVtYWlsIjoiZWxsaUBtZXRyb3BvbGlhLmZpIiwidXNlcl9sZXZlbF9pZCI6MSwiY3JlYXRlZF9hdCI6IjIwMjQtMTEtMTRUMTQ6MDQ6MjIuMDAwWiIsImlhdCI6MTczMTkxOTgyNiwiZXhwIjoxNzMyMDA2MjI2fQ.j2RNZa9nAm0ewUltjliFq1e-sVmIrV4xl-frLzZ7ty8
Content-Type: multipart/form-data; boundary=----Boundary

------Boundary
Content-Disposition: form-data; name="title"

Super cute cat image
------Boundary
Content-Disposition: form-data; name="user_id"

3
------Boundary
Content-Disposition: form-data; name="file"; filename="image.png"
Content-Type: image/png

< ./test-cat.png
------Boundary--

### update a media item

PUT http://localhost:3000/api/media/4
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJ1c2VybmFtZSI6IkVsbGkiLCJwYXNzd29yZCI6InNlY3JldDM0NSIsImVtYWlsIjoiZWxsaUBtZXRyb3BvbGlhLmZpIiwidXNlcl9sZXZlbF9pZCI6MSwiY3JlYXRlZF9hdCI6IjIwMjQtMTEtMTRUMTQ6MDQ6MjIuMDAwWiIsImlhdCI6MTczMTkxOTgyNiwiZXhwIjoxNzMyMDA2MjI2fQ.j2RNZa9nAm0ewUltjliFq1e-sVmIrV4xl-frLzZ7ty8
Content-Type: application/json

{
    "title": "My cat",
    "description": "my very cute cat"
}

### Delete a media item

DELETE http://localhost:3000/api/media/1

## User resource

### Log in

POST http://localhost:3000/api/auth/login
Content-Type: application/json

{
    "username": "Elli",
    "password": "secret345"
}

### Get my user info

GET http://localhost:3000/api/auth/me
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJ1c2VybmFtZSI6IkVsbGkiLCJwYXNzd29yZCI6InNlY3JldDM0NSIsImVtYWlsIjoiZWxsaUBtZXRyb3BvbGlhLmZpIiwidXNlcl9sZXZlbF9pZCI6MSwiY3JlYXRlZF9hdCI6IjIwMjQtMTEtMTRUMTQ6MDQ6MjIuMDAwWiIsImlhdCI6MTczMTkxOTgyNiwiZXhwIjoxNzMyMDA2MjI2fQ.j2RNZa9nAm0ewUltjliFq1e-sVmIrV4xl-frLzZ7ty8

### Get all users

GET http://localhost:3000/api/users

### Get user by id

GET http://localhost:3000/api/users/5

### Create a new user

POST http://localhost:3000/api/users
Content-Type: application/json

{
    "user_id": "",
    "username": "Popo",
    "password": "********",
    "email": "Popo12@example.com",
    "user_level_id": 2,
    "created_at": "2021-12-11T06:00:41.000Z"
}

### Update a user

PUT http://localhost:3000/api/users/5
Content-Type: application/json

{
    "username": "elluu",
    "password": "********",
    "email": "eltsu@metropolia.fi",
    "user_level_id": 1
}

### Delete a user

DELETE http://localhost:3000/api/users/1

## Comment resource

### Get all comments

GET http://localhost:3000/api/comments


### Get comment by id

GET http://localhost:3000/api/comments/4

### Get a comment by user id

GET http://localhost:3000/api/comments/users/1

### Create a new comment

POST http://localhost:3000/api/comments
Content-Type: application/json

{
    "comment_id": "",
    "user_id": 3,
    "media_id": 1,
    "comment_text": "Lovely!",
    "created_at": "2021-12-11T06:00:41.000Z"
}

### Update a comment

PUT http://localhost:3000/api/comments/6
Content-Type: application/json

{   
    "comment_id": "",
    "comment_text": "I like this photo!",
    "created_at": "2021-12-11T06:00:41.000Z"
}

### Delete a comment

DELETE http://localhost:3000/api/comments/3 
